<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H·ªá th·ªëng Qu·∫£n l√Ω Trung t√¢m Th·ªÉ d·ª•c</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container" id="app">
      <!-- Login Screen -->
      <div id="loginScreen" style="display: none">
        <div class="login-container">
          <div class="login-box">
            <h2>üèãÔ∏è ƒêƒÉng nh·∫≠p H·ªá th·ªëng</h2>
            <form id="loginForm">
              <div class="form-group">
                <label>T√™n ƒëƒÉng nh·∫≠p</label>
                <input type="text" id="loginUsername" required />
              </div>
              <div class="form-group">
                <label>M·∫≠t kh·∫©u</label>
                <input type="password" id="loginPassword" required />
              </div>
              <div class="form-group">
                <label>Vai tr√≤</label>
                <select id="loginRole" required>
                  <option value="admin">Qu·∫£n tr·ªã vi√™n</option>
                  <option value="trainer">Hu·∫•n luy·ªán vi√™n</option>
                  <option value="member">H·ªôi vi√™n</option>
                </select>
              </div>
              <button type="submit" class="btn-primary">ƒêƒÉng nh·∫≠p</button>
            </form>
            <p style="margin-top: 20px; color: #666; font-size: 12px">
              Demo: admin/admin, trainer/trainer, member/member
            </p>
          </div>
        </div>
      </div>

      <!-- Main Application -->
      <div id="mainApp" style="display: none">
        <div class="header">
          <h1>üèãÔ∏è H·ªá th·ªëng Qu·∫£n l√Ω Gym</h1>
          <div class="user-info">
            <div class="user-badge" id="currentUserBadge"></div>
            <button class="btn-logout" onclick="logout()">ƒêƒÉng xu·∫•t</button>
          </div>
        </div>

        <div class="main-content">
          <div class="sidebar" id="sidebar"></div>
          <div class="content-area" id="contentArea"></div>
        </div>
      </div>
    </div>

    <!-- Modals -->
    <div id="memberModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="memberModalTitle">Th√™m h·ªôi vi√™n m·ªõi</h3>
          <button class="btn-close" onclick="closeModal('memberModal')">
            &times;
          </button>
        </div>
        <form id="memberForm">
          <input type="hidden" id="memberId" />
          <div class="form-row">
            <div class="form-group">
              <label>H·ªç v√† t√™n *</label>
              <input type="text" id="memberName" required />
            </div>
            <div class="form-group">
              <label>S·ªë ƒëi·ªán tho·∫°i *</label>
              <input type="tel" id="memberPhone" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="memberEmail" />
            </div>
            <div class="form-group">
              <label>Ng√†y sinh</label>
              <input type="date" id="memberDob" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Gi·ªõi t√≠nh</label>
              <select id="memberGender">
                <option value="male">Nam</option>
                <option value="female">N·ªØ</option>
                <option value="other">Kh√°c</option>
              </select>
            </div>
            <div class="form-group">
              <label>G√≥i d·ªãch v·ª• *</label>
              <select id="memberPackage" required>
                <option value="1month">1 Th√°ng - 500,000ƒë</option>
                <option value="3months">3 Th√°ng - 1,350,000ƒë</option>
                <option value="6months">6 Th√°ng - 2,500,000ƒë</option>
                <option value="1year">1 NƒÉm - 4,500,000ƒë</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>ƒê·ªãa ch·ªâ</label>
            <textarea id="memberAddress" rows="2"></textarea>
          </div>
          <div class="form-group">
            <label>Ghi ch√∫</label>
            <textarea id="memberNotes" rows="2"></textarea>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeModal('memberModal')"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn-primary">L∆∞u</button>
          </div>
        </form>
      </div>
    </div>

    <div id="scheduleModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ƒê·∫∑t l·ªãch t·∫≠p</h3>
          <button class="btn-close" onclick="closeModal('scheduleModal')">
            &times;
          </button>
        </div>
        <form id="scheduleForm">
          <input type="hidden" id="scheduleId" />
          <div class="form-group">
            <label>H·ªôi vi√™n *</label>
            <select id="scheduleMember" required></select>
          </div>
          <div class="form-group">
            <label>Hu·∫•n luy·ªán vi√™n *</label>
            <select id="scheduleTrainer" required></select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Ng√†y t·∫≠p *</label>
              <input type="date" id="scheduleDate" required />
            </div>
            <div class="form-group">
              <label>Th·ªùi gian *</label>
              <input type="time" id="scheduleTime" required />
            </div>
          </div>
          <div class="form-group">
            <label>Ph√≤ng/Khu v·ª±c</label>
            <select id="scheduleFacility">
              <option value="room1">Ph√≤ng t·∫≠p 1</option>
              <option value="room2">Ph√≤ng t·∫≠p 2</option>
              <option value="cardio">Khu Cardio</option>
              <option value="weights">Khu T·∫° t·ª± do</option>
              <option value="yoga">Ph√≤ng Yoga</option>
            </select>
          </div>
          <div class="form-group">
            <label>Ghi ch√∫</label>
            <textarea id="scheduleNotes" rows="3"></textarea>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeModal('scheduleModal')"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn-primary">ƒê·∫∑t l·ªãch</button>
          </div>
        </form>
      </div>
    </div>

    <div id="qrModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>M√£ QR Check-in</h3>
          <button class="btn-close" onclick="closeModal('qrModal')">
            &times;
          </button>
        </div>
        <div class="qr-code-display">
          <div class="member-card-preview" id="qrMemberCard"></div>
          <canvas id="qrCanvas"></canvas>
          <p style="margin-top: 20px; color: #666">
            Qu√©t m√£ QR n√†y ƒë·ªÉ check-in t·∫°i trung t√¢m
          </p>
          <button class="btn-primary" onclick="window.print()">In th·∫ª</button>
        </div>
      </div>
    </div>

    <div id="invoiceModal" class="modal">
      <div class="modal-content" style="max-width: 800px">
        <div class="modal-header">
          <h3>H√≥a ƒë∆°n thanh to√°n</h3>
          <button class="btn-close" onclick="closeModal('invoiceModal')">
            &times;
          </button>
        </div>
        <div class="invoice-preview" id="invoicePreview"></div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn-secondary"
            onclick="closeModal('invoiceModal')"
          >
            ƒê√≥ng
          </button>
          <button type="button" class="btn-primary" onclick="window.print()">
            In h√≥a ƒë∆°n
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
