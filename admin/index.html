<!DOCTYPE html>
<html lang="vi" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FitZone - Gym Management System</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="logo">
            <div class="logo-icon"><i class="fas fa-dumbbell"></i></div>
            <div class="logo-text">
              <span class="logo-name">FitZone</span>
              <span class="logo-tagline">Gym Management</span>
            </div>
          </div>
          <button
            class="sidebar-collapse-btn"
            id="sidebarCollapseBtn"
            title="Thu g·ªçn"
          >
            <i class="fas fa-chevron-left"></i>
          </button>
        </div>

        <nav class="sidebar-nav">
          <div class="nav-section">
            <span class="nav-section-title">MENU CH√çNH</span>
            <ul>
              <li class="nav-item active" data-page="dashboard">
                <a href="#dashboard"
                  ><i class="fas fa-th-large"></i><span>Dashboard</span></a
                >
              </li>
              <li class="nav-item" data-page="members">
                <a href="members.html"
                  ><i class="fas fa-users"></i><span>H·ªôi vi√™n</span
                  ><span class="nav-badge" id="membersBadge">5</span></a
                >
              </li>
              <li class="nav-item" data-page="packages">
                <a href="packages.html"
                  ><i class="fas fa-box-open"></i><span>G√≥i t·∫≠p</span></a
                >
              </li>
              <li class="nav-item" data-page="trainers">
                <a href="trainers.html"
                  ><i class="fas fa-user-ninja"></i><span>Hu·∫•n luy·ªán vi√™n</span
                  ><span class="nav-badge success">12</span></a
                >
              </li>
            </ul>
          </div>

          <div class="nav-section">
            <span class="nav-section-title">HO·∫†T ƒê·ªòNG</span>
            <ul>
              <li class="nav-item" data-page="schedule">
                <a href="schedule.html"
                  ><i class="fas fa-calendar-alt"></i><span>L·ªãch t·∫≠p</span></a
                >
              </li>
              <li class="nav-item" data-page="checkin">
                <a href="checkin.html"
                  ><i class="fas fa-qrcode"></i><span>Check-in</span
                  ><span class="nav-badge warning">5</span></a
                >
              </li>
              <li class="nav-item" data-page="facilities">
                <a href="facilities.html"
                  ><i class="fas fa-dumbbell"></i><span>Thi·∫øt b·ªã</span></a
                >
              </li>
            </ul>
          </div>

          <div class="nav-section">
            <span class="nav-section-title">T√ÄI CH√çNH</span>
            <ul>
              <li class="nav-item" data-page="invoices">
                <a href="invoices.html"
                  ><i class="fas fa-file-invoice-dollar"></i
                  ><span>H√≥a ƒë∆°n</span></a
                >
              </li>
              <li class="nav-item" data-page="reports">
                <a href="reports.html"
                  ><i class="fas fa-chart-line"></i><span>B√°o c√°o</span></a
                >
              </li>
            </ul>
          </div>
        </nav>

        <div class="sidebar-footer">
          <a href="../index.html" class="back-home-btn">
            <i class="fas fa-home"></i>
            <span>‚Üê V·ªÅ trang ch·ªß</span>
          </a>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <header class="header">
          <div class="header-left">
            <button class="menu-toggle" id="menuToggle">
              <i class="fas fa-bars"></i>
            </button>
            <div class="breadcrumb">
              <span class="breadcrumb-item"><i class="fas fa-home"></i></span>
              <span class="breadcrumb-separator">/</span>
              <span class="breadcrumb-item active">Dashboard</span>
            </div>
          </div>
          <div class="header-center">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input
                type="text"
                placeholder="T√¨m ki·∫øm h·ªôi vi√™n, PT, g√≥i t·∫≠p..."
              />
              <kbd>Ctrl+K</kbd>
            </div>
          </div>
          <div class="header-right">
            <button class="header-btn" id="themeToggle" title="ƒê·ªïi giao di·ªán">
              <i class="fas fa-sun" id="themeIcon"></i>
            </button>
            <button class="header-btn" id="fullscreenBtn" title="To√†n m√†n h√¨nh">
              <i class="fas fa-expand"></i>
            </button>
            <button class="header-btn notification-btn" title="Th√¥ng b√°o">
              <i class="fas fa-bell"></i><span class="badge">3</span>
            </button>
            <div class="admin-dropdown">
              <button
                class="btn btn-primary btn-glow admin-btn"
                onclick="toggleAdminDropdown()"
              >
                <img
                  src="https://ui-avatars.com/api/?name=Admin&background=6366f1&color=fff&size=28"
                  alt="Admin"
                  class="admin-avatar"
                />
                <span>Admin</span>
                <i class="fas fa-chevron-down"></i>
              </button>
              <div class="admin-dropdown-menu" id="adminDropdownMenu">
                <div class="dropdown-header">
                  <img
                    src="https://ui-avatars.com/api/?name=Admin&background=6366f1&color=fff"
                    alt="Admin"
                  />
                  <div>
                    <strong>Nguy·ªÖn Admin</strong>
                    <span>Qu·∫£n tr·ªã vi√™n</span>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <a href="settings.html" class="dropdown-item"
                  ><i class="fas fa-cog"></i> C√†i ƒë·∫∑t</a
                >
                <div class="dropdown-divider"></div>
                <a
                  href="#"
                  class="dropdown-item text-danger"
                  onclick="confirmLogout()"
                  ><i class="fas fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t</a
                >
              </div>
            </div>
          </div>
        </header>

        <div class="content">
          <div class="welcome-banner">
            <div class="welcome-content">
              <h1>Ch√†o m·ª´ng tr·ªü l·∫°i, Admin! üëã</h1>
              <p>
                H√¥m nay l√† <span id="currentDate"></span>. B·∫°n c√≥
                <strong>5 h·ªôi vi√™n</strong> s·∫Øp h·∫øt h·∫°n.
              </p>
            </div>
            <div class="welcome-illustration">
              <i class="fas fa-dumbbell"></i>
            </div>
          </div>

          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon blue"><i class="fas fa-users"></i></div>
              <div class="stat-info">
                <p>T·ªïng h·ªôi vi√™n</p>
                <h3 id="totalMembers">156</h3>
              </div>
              <div class="stat-trend up">
                <i class="fas fa-arrow-up"></i> 12%
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon green"><i class="fas fa-id-card"></i></div>
              <div class="stat-info">
                <p>Th·∫ª c√≤n h·∫°n</p>
                <h3 id="activeCards">142</h3>
              </div>
              <div class="stat-trend up">
                <i class="fas fa-arrow-up"></i> 8%
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon orange"><i class="fas fa-clock"></i></div>
              <div class="stat-info">
                <p>S·∫Øp h·∫øt h·∫°n</p>
                <h3 id="expiringCards">14</h3>
              </div>
              <div class="stat-trend down">
                <i class="fas fa-arrow-down"></i> 3%
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon purple">
                <i class="fas fa-money-bill-wave"></i>
              </div>
              <div class="stat-info">
                <p>Doanh thu th√°ng</p>
                <h3>45.2M</h3>
              </div>
              <div class="stat-trend up">
                <i class="fas fa-arrow-up"></i> 18%
              </div>
            </div>
          </div>

          <div class="main-grid">
            <div class="card members-card">
              <div class="card-header">
                <h2><i class="fas fa-users"></i> Danh s√°ch h·ªôi vi√™n</h2>
                <div class="card-actions">
                  <select id="filterStatus" onchange="filterMembers()">
                    <option value="all">T·∫•t c·∫£</option>
                    <option value="active">C√≤n h·∫°n</option>
                    <option value="expiring">S·∫Øp h·∫øt h·∫°n</option>
                    <option value="expired">H·∫øt h·∫°n</option>
                  </select>
                </div>
              </div>
              <div class="card-body">
                <div class="table-container">
                  <table class="data-table">
                    <thead>
                      <tr>
                        <th>H·ªôi vi√™n</th>
                        <th>M√£ th·∫ª</th>
                        <th>G√≥i t·∫≠p</th>
                        <th>Ng√†y b·∫Øt ƒë·∫ßu</th>
                        <th>Ng√†y h·∫øt h·∫°n</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Thao t√°c</th>
                      </tr>
                    </thead>
                    <tbody id="membersTableBody"></tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="side-panel">
              <div class="card packages-card">
                <div class="card-header">
                  <h2><i class="fas fa-box-open"></i> G√≥i t·∫≠p</h2>
                </div>
                <div class="card-body">
                  <div class="package-list" id="packageList"></div>
                </div>
              </div>
              <div class="card expiring-card">
                <div class="card-header">
                  <h2>
                    <i class="fas fa-exclamation-triangle"></i> S·∫Øp h·∫øt h·∫°n
                  </h2>
                </div>
                <div class="card-body">
                  <div class="expiring-list" id="expiringList"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Add Member Modal -->
    <div class="modal" id="addMemberModal">
      <div class="modal-overlay" onclick="closeModal('addMemberModal')"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2><i class="fas fa-user-plus"></i> ƒêƒÉng k√Ω h·ªôi vi√™n m·ªõi</h2>
          <button class="close-btn" onclick="closeModal('addMemberModal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="addMemberForm" onsubmit="addMember(event)">
          <div class="modal-body">
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-user"></i> H·ªç v√† t√™n</label>
                <input
                  type="text"
                  id="memberName"
                  required
                  placeholder="Nh·∫≠p h·ªç t√™n"
                />
              </div>
              <div class="form-group">
                <label><i class="fas fa-phone"></i> S·ªë ƒëi·ªán tho·∫°i</label>
                <input
                  type="tel"
                  id="memberPhone"
                  required
                  placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-envelope"></i> Email</label>
                <input
                  type="email"
                  id="memberEmail"
                  required
                  placeholder="Nh·∫≠p email"
                />
              </div>
              <div class="form-group">
                <label><i class="fas fa-venus-mars"></i> Gi·ªõi t√≠nh</label>
                <select id="memberGender" required>
                  <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
                  <option value="male">Nam</option>
                  <option value="female">N·ªØ</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-box"></i> G√≥i t·∫≠p</label>
                <select id="memberPackage" required onchange="updateEndDate()">
                  <option value="">Ch·ªçn g√≥i t·∫≠p</option>
                  <option value="1" data-duration="30" data-price="500000">
                    G√≥i 1 th√°ng - 500,000ƒë
                  </option>
                  <option value="2" data-duration="90" data-price="1200000">
                    G√≥i 3 th√°ng - 1,200,000ƒë
                  </option>
                  <option value="3" data-duration="180" data-price="2000000">
                    G√≥i 6 th√°ng - 2,000,000ƒë
                  </option>
                  <option value="4" data-duration="365" data-price="3500000">
                    G√≥i 12 th√°ng - 3,500,000ƒë
                  </option>
                </select>
              </div>
              <div class="form-group">
                <label><i class="fas fa-calendar"></i> Ng√†y b·∫Øt ƒë·∫ßu</label>
                <input
                  type="date"
                  id="startDate"
                  required
                  onchange="updateEndDate()"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label
                  ><i class="fas fa-calendar-check"></i> Ng√†y h·∫øt h·∫°n</label
                >
                <input type="date" id="endDate" readonly />
              </div>
              <div class="form-group">
                <label><i class="fas fa-money-bill"></i> S·ªë ti·ªÅn</label>
                <input
                  type="text"
                  id="totalAmount"
                  readonly
                  placeholder="T·ª± ƒë·ªông t√≠nh"
                />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('addMemberModal')"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> ƒêƒÉng k√Ω
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Member Modal -->
    <div class="modal" id="editMemberModal">
      <div class="modal-overlay" onclick="closeModal('editMemberModal')"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2><i class="fas fa-edit"></i> Ch·ªânh s·ª≠a h·ªôi vi√™n</h2>
          <button class="close-btn" onclick="closeModal('editMemberModal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="editMemberForm" onsubmit="updateMember(event)">
          <input type="hidden" id="editMemberId" />
          <div class="modal-body">
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-user"></i> H·ªç v√† t√™n</label>
                <input type="text" id="editMemberName" required />
              </div>
              <div class="form-group">
                <label><i class="fas fa-phone"></i> S·ªë ƒëi·ªán tho·∫°i</label>
                <input type="tel" id="editMemberPhone" required />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-envelope"></i> Email</label>
                <input type="email" id="editMemberEmail" required />
              </div>
              <div class="form-group">
                <label><i class="fas fa-id-card"></i> M√£ th·∫ª</label>
                <input type="text" id="editCardId" readonly />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-calendar"></i> Ng√†y b·∫Øt ƒë·∫ßu</label>
                <input type="date" id="editStartDate" required />
              </div>
              <div class="form-group">
                <label
                  ><i class="fas fa-calendar-check"></i> Ng√†y h·∫øt h·∫°n</label
                >
                <input type="date" id="editEndDate" required />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('editMemberModal')"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> C·∫≠p nh·∫≠t
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Renew Modal -->
    <div class="modal" id="renewModal">
      <div class="modal-overlay" onclick="closeModal('renewModal')"></div>
      <div class="modal-content modal-sm">
        <div class="modal-header">
          <h2><i class="fas fa-sync"></i> Gia h·∫°n th·∫ª t·∫≠p</h2>
          <button class="close-btn" onclick="closeModal('renewModal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="renewForm" onsubmit="renewMembership(event)">
          <input type="hidden" id="renewMemberId" />
          <div class="modal-body">
            <div class="member-renew-info" id="renewMemberInfo"></div>
            <div class="form-group">
              <label><i class="fas fa-box"></i> Ch·ªçn g√≥i gia h·∫°n</label>
              <select id="renewPackage" required>
                <option value="">Ch·ªçn g√≥i t·∫≠p</option>
                <option value="1" data-duration="30" data-price="500000">
                  G√≥i 1 th√°ng - 500,000ƒë
                </option>
                <option value="2" data-duration="90" data-price="1200000">
                  G√≥i 3 th√°ng - 1,200,000ƒë
                </option>
                <option value="3" data-duration="180" data-price="2000000">
                  G√≥i 6 th√°ng - 2,000,000ƒë
                </option>
                <option value="4" data-duration="365" data-price="3500000">
                  G√≥i 12 th√°ng - 3,500,000ƒë
                </option>
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('renewModal')"
            >
              H·ªßy
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-check"></i> Gia h·∫°n
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
      <i class="fas fa-check-circle"></i>
      <span id="toastMessage">Thao t√°c th√†nh c√¥ng!</span>
    </div>

    <script src="js/app.js"></script>
  </body>
</html>
